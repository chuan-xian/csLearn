# 作用域

1. 局部作用域
    - 和函数结合使用，就是函数后面的的{}所包括的范围。
    ```javascript
    function test() {
      console.log('局部作用域');  //函数中{}所包括的范围为局部作用域
    }
    ```
    
2. 块级作用域
    - 也是{}所包括的范围，但是不包含函数的{}所包括的范围。
    - 一般包括普通{}、for(;;){}、do{}while()、switch(){}、if(){}等。
    
3. 全局作用域
    - 以整个文件为作用域。
    
4. 在ES6之前没有块级作用域，只有局部作用域和全局作用域。


# var v. let

1. `var`是ES6之前声明变量的关键字。`let`是ES6之后声明变量的关键字。

# 块级作用域vs局部作用域

1. `let`定义的变量，必须先定义后使用，严格区分局部作用域和全局作用域。

2. var定义的变量在局部作用域中是局部变量，在块级作用域中是全局变量。let不论是局部作用域还是块级作用域都是局部变量。

3. 无论在块级作用域还是局部作用域，省略变量前的`let`或者`var`都是全局变量。

# 作用域链

1. 查找变量规则：
    - 在当前作用域中、调用处之前查找，找到就用当前作用域的变量；
    - 如果当前作用域中没有，就去上一级作用域中、当前作用域之前查找；
    - 以此类推直到0级为止，如果0级作用域还没有找到，则报错。