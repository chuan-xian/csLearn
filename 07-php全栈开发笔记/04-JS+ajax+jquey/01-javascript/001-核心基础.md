# 一、初识`JavaScript`

## 1. 什么是`JavaScript`？

1. `JavaScript`是一门解释型语言，不需要编译，而是边解析边执行。浏览器中有一个解析器。
2. [浏览器工作原理](https://www.html5rocks.com/en/tutorials/internals/howbrowserswork)
3. `JavaScript`用来控制和用户的交互行为。
4. `JavaScript`核心：
   - `ECMAScript`：`JavaScript`的语法标准。
   - `DOM`：文档对象模型，`JavaScript`操作网页上的元素(标签)的`API`。
   - `BOM`：浏览器对象模型，`JavaScript`操作浏览器的部分功能的`API`。

## 2. 浏览器分为两部分：渲染引擎和js引擎

1. 渲染引擎：用来解析`HTML`和`CSS`，俗称内核，比如`Chrome`浏览器的`blink`，老版本的`webkit`。
2. `JS`引擎：也称`JS`解释器，用来读取网页中的`JavaScript`代码，对其进行处理后运行，比如`chrome`的`V8`。
3. 浏览器本身并不会执行`JS`代码，而是通过内置的`JavaScript`引擎(解释器)来执行`JS`代码。`JS`引擎执行代码时会逐行解释每一句源码(转换为机器语言)，然后由计算机去执行，所以`JavaScript`语言归为脚本语言，会逐行解释执行。

# 二、`JavaScript`书写格式

## 1. `JavaScript`四种书写格式

1. 行内样式

```javascript
<div onclick="alert('行内样式')">我是JavaScript</div>
```

2. 嵌入式：常写在<head>标签中，但也可以写在<body>中

```javascript
<script>
    alert('嵌入式JavaScript代码');
</script>
```

3. 外链式
   - 新建立一个js文件，在需要引入该js的文件中添加

```javascript
<script src="./example.js"><script>
```

## 2. `JavaScript`书写格式注意点

1. 主要使用外链式。

2. 在`html`中写入`JavaScript`代码的时候，存在一个问题，`JavaScript和html作为解释型语言，从上往下执行，如果JavaScript`嵌入到`html`中的位置在`body`之前，而在`JavaScript`中又存在操作`DOM`的情况，那么将无法执行，因为后续的`DOM`还未解析。此时可以把`JavaScript`代码写在或引入在`body`结束标签前，或者把`JavaScript`代码写在`window.onload=function(){js代码};`

3. `window.onload`的含义就是等界面上所有的内容都加载完毕后再执行`{}`中的代码

4. 如果需要在一对`<script>`标签中编写`JavaScript`代码，那么就不能同时通过`<script>`标签再导入其它的`JavaScript`文件，否则书写的`JavaScript`代码无效。

```javascript
<script src="./example.js">
    alert('外面通过src引入了JavaScript代码，这里的代码无效');
</script>
```

## 3. 注意点

1. `JavaScript`严格区分大小写。
2. `JavaScript`语句以英文状态下的分号结束。

# 三、输入输出

## 1. 通过弹窗的形式来输出

1. `alert();`输出框，允许浏览器弹出对话框并输出内容。
2. `prompt(msg);`输入内容可以通过变量接收，接收后为字符串形式。
3. `confirm();`

## 2. 通过网页内容区域的方式来输出

1. `document.write();`

## 3. 通过开发者工具控制台的形式来输出

1. `console.log();`输出到控制台。
2. `console.warn();`
3. `console.error();`
4. `console.dir();`打印输出对象的完整信息，可以更好地查看里面地属性和方法。

# 四、核心概念

## 1. 常量

1. 常量：表示一些固定不变的数据。

2. `JavaScript`中常量的分类。
   - 整型常量：任意一个整数都是整型常量，如`-1`，`0`，`1`，`2`...
   - 实型常量：任意个小数都是实型常量，如`2.12`...
   - 字符串常量：用单引号或者双引号括起来的内容，无论包裹了多少个字符。
   - 布尔常量：只有两个，即`true`或`false`。
   - 自定义常量： `const PI = 3.14;`

## 2. 变量

1. 变量表示一些可以被修改的数据。

## 3. 预解析

1. 浏览器在解析`JavaScript`代码之前还会进行一个操作，即 "预解析(预处理)"。
   - 将当前`JavaScript`代码中的所有变量的定义和函数的定义放到所有代码的最前面。

# 五、数据类型

## 1. `5`种数据类型（`Number`、`String`、`Boolean`、`Undefined`、`Null`为基本数据类型）

1. `Number`数值（基本数据类型，默认值为`0`）
	- 包括整数和小数。
	- 八进制以`0`开头，十六进制以`0x`开头。
 	- 最大值`Number.MAX_VALUE`，最小值`Number.MIN_VALUE`。
 	- 无穷大`Infinity`，负无穷大`-Infinity`，非数值`NaN`。
	- `isNaN()`用来判断一个值是否为数字，如果是数字则返回`false`，如果是非数字则返回`true`。


2. `String`字符串（基本数据类型）
	- 被单引号或者双引号括起来的。
	- `str.length`可以查看字符串的长度。
	- 字符串用 `+` 拼接，和数值、布尔值、`undefined`、`null`等任何内容拼接后都成了字符串。


3. `Boolean`布尔值(基本数据类型)
	- 只有两个值，即`true`或者`false`。
	- `true`参与算数运算当`1`，`false`当`0`。

4. `Undefined`未定义（基本数据类型）
	- 只有一个取值为`undefined`。
	- 未定义的变量。
	- 定义了变量未赋值。
	- 定义了变量但赋值为`undefined`。
	- 和字符串相加等于 `undefined + 字符串`。
	- 和数字、布尔类型相加结果为`NaN`。


5. `Null`空值（基本数据类型）
	- 声明变量且赋值为`null`，空置。
	- 和字符串相加等于`NaN + 字符串`。
	- 和数字、布尔值相加等于数值`0` + 数字、布尔值。

6. `Object`对象（引用数据类型）
7. 如何查看数据类型：
	- `typeof varName;`  // `varName`为要检测的数据。
	- 如果变量为`null`，那么输出结果为`Object`。


# 六、数据类型转换

## 1. 转为字符串

1. 转为字符串类型：将`Number`、`Boolean`、`undefined`、`null`类型转为字符串类型。

2. 对于`Number`、`Boolean`类型，可以通过 `变量名.toString();`的方式转变。 
	- `toString()`方法是对变量的拷贝副本进行转换，不会影响原有数据的类型。
	- 调用该方法只能是变量，不能是常量。如 `123.toString();`将报错。因为常量是不能改变的。
	- `undefined`、`null`不能通过本方法转为字符串，系统报错。

3. 通过`String(常量或变量)`将上述`4`种类型的变量或者常量转换为字符串。
	- `String()`也是根据副本进行转换，并不改变原来的值。

4. 隐式转换：通过 `变量 / 常量 + ''/""`的方式将上述`4`种类型的变量或者常量转换为字符串。就是在后面加一个空字符串。


## 2. 转为`Number`类型

1. 通过`Number(常量 or 变量)`的方式将上述`4`种类型的常量或者变量转换为数值类型。
	- 如果字符串类型没有数值(空字符串、仅有空格的字符串)，那么转换结果为`0`。
	- 如果字符串中的数据不仅仅是数值，那么转换结果为`NaN`。
	- `null`转为`0`，`undefined`转为`NaN`。
	- 总结：空字符串、空格字符串、`false`、`null`转换为`0`；字符串中不仅仅是数字、`undefined`转换为`NaN`；其它正常转换。

2. 通过算术运算符 `+` / `-`本质上也是调用`Number()`方法。

3. `parseInt(需要转换的字符串)`/`parseFloat(需要转换的字符串)`可以将字符串中整数/浮点数提取出来。
	- 这两个函数一旦遇到非数值类型就停止转换，如果停止转换的时候还没有提取到数值，那么返回`NaN`。所以这两个函数本质上只能提取到字符串中开始部分的数值，如果字符串不是以数值开头，那么什么都提取不到，直接返回`NaN`。
	- 这两个函数会将传入的数据当作字符串处理，如果传入`true`/`false`，那么返回结果都是`NaN`。
	- 即把数字和字符串混合的字符串转换为数字，只会把数字开头的部分转换为数字，后面部分剪掉，如果不是数字开头，则返回NaN。即`'123aa'-->123`，`'aa123'-->NaN`。

4. 隐式转换：用算术运算中的-、*、/三种运算可以把字符串转换为数值型。


## 3. 转为`Boolean`布尔型

1. 通过`Boolean(常量 or 变量)`可以将上述`4`种类型（`string`、`number`、`undefined`、`null`）的变量 / 常量转为布尔类型。
	- 传入的参数如果是代表空、否定的值如`0`、空字符串(不包括空格字符串)、`NaN`、`undefined`、`null`转为`false`，其它转为`true`。


# 七、运算符

## 1. 概述

- 任何数据和`NaN`进行运算，结果都是`NaN`。
- 任何数据和字符串相加，都会先转换为字符串，再运算。
- 任何非数值类型的数据参加算数运算， 都会先转换为数值类型数据再参与运算。


## 2. 等于、不等于、全等于、不全等于

1. `==`：等于，会转型，只判断值是否相等。

2. `!=`：不等于，会转型，判断值是否不等。

3. `===`：全等于，不转换数据类型，严格判断值和数据类型是否都相等。
	-  `switch`中的`()`中判断的是`===`全等于，可以是常量、变量、表达式，`case`后面可以是常量、变量、表达式。

4. `!==`：不全等于，不转换数据类型，严格判断值或数据类型是否有一个不等。


## 3. 逻辑中断(短路操作)

1. 逻辑与：
- `A && B`
	- `A`不成立，则返回`A`。
     - `A`成立，无论`B`是否成立，都返回`B`。
2. 逻辑或
- `A || B`
	- `A`成立，则返回`A`。
	- `A`不成立，无论`B`是否成立，都返回`B`。

- 3. - `&&`相对于`&`，`||`相对于`|`存在逻辑短路问题。


## 4. 逗号运算符

1. 逗号运算符的结果为最后一个表达式的结果： `let num = (1, (2+4), (3*1));`  //结果为`3`。


# 八、分支结构

1、`switch`语句中，表达式和`value`的判断是全等的判断。

2、`switch`和`if…else if`的区别：
	- 一般情况下，两者可以互换。
	- `switch…case`通常用于处理`case`为比较确定值的情况，而`if…else…`语句更加灵活，常用于范围判断(大于、等于、小于之类的)。
	- `switch`语句进行条件判断后，直接执行到程序的条件语句，效率更高，而`if…else…`语句有几种条件，就得判断多少次。
	- 当分支比较少时，`if…else`语句的执行效率比`switch`高。
	- 当分支比较多时，`switch`语句的执行效率比较高，而且结构更加清晰。

 

# 九、数组

## 1. 创建数组

- 通过new创建数组：var 数组名 = new Array();
- 利用数组字面量创建数组：var 数组名 = [];  //创建一个空数组，也可以带元素，[1, 2, 'hello', true, [1, 2]]；

2、数组元素可以是任何类型的数据，每个元素用逗号隔开；

3、超出数组索引后访问数组，返回结果是undefined；

4、增加元素：

- 通过修改length长度新增数组元素，length属性是可读写的。如给arr.length赋值一个大于原下标的值，那么就把数组扩容了，未赋值的元素默认为undefined；
- 通过修改数组索引新增数组元素，如原数组只有三个元素，此时arr[3] = 'newElement'就可以追加一个元素。而如果arr[2] = 'replaceElement'就是替换元素。不能直接给数组名赋值，否则就会覆盖掉原来的数据；

 

